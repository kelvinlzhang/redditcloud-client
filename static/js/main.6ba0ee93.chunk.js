(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(t,e,i){},145:function(t,e,i){"use strict";i.r(e);var n=i(1),s=i.n(n),o=i(23),a=i.n(o),h=(i(76),i(4)),r=i(48),c=i(8),l=i(9),d=i(49),u=i(44),f=i(50),m=i(46),v=i(47),x=i(29),y=i.n(x),w=function(t){return function(t){var e,i,n={Lorem:1,ipsum:2,dolor:3,sit:4,amet:5,consectetur:6,adipiscing:7,elit:8,sed:9,do:10},s=[],o=.82,a=80,h=12,r=10,d=65,u=function(){function e(i){Object(c.a)(this,e),this.wordDict=i,this.wordBoxes=[],this.boundaries=[new m(t.width,-t.height,t.width,3*t.height),new m(-t.width,-t.height,t.width,3*t.height),new m(0,-t.height,t.width,t.height),new m(0,t.height,t.width,t.height)];for(var n=s[Math.floor(Math.random()*s.length)],o=0,a=Object.entries(i),h=0;h<a.length;h++){var l=a[h],u=Object(v.a)(l,2),x=(u[0],u[1]);x>o&&(o=x)}for(var y=Object.entries(i),w=0;w<y.length;w++){var g=y[w],p=Object(v.a)(g,2),b=p[0],k=p[1];this.wordBoxes.push(new f(b,k,o,this.getProceduralColor(n,r,d)))}}return Object(l.a)(e,[{key:"render",value:function(){for(var t=0;t<this.wordBoxes.length;t++)this.wordBoxes[t].render()}},{key:"handleCollisions",value:function(){for(var t=0;t<this.wordBoxes.length;t++)for(var e=t;e<this.wordBoxes.length;e++)t!=e&&this.wordBoxes[t].handleCollision(this.wordBoxes[e]);for(t=0;t<this.wordBoxes.length;t++)this.wordBoxes[t].move()}},{key:"handleBoundary",value:function(){for(var t=0;t<this.wordBoxes.length;t++)for(var e=0;e<this.boundaries.length;e++)this.wordBoxes[t].handleBoundary(this.boundaries[e])}},{key:"getProceduralColor",value:function(e,i,n){return t.color(this.procColorHelper(t.red(e),i,n),this.procColorHelper(t.green(e),i,n),this.procColorHelper(t.blue(e),i,n))}},{key:"procColorHelper",value:function(t,e,i){var n=t+Math.random()*(2*i-2*e)-i;return n=Math.floor(n<=0?n-e:n+e)}}]),e}(),f=function(){function e(i,n,s,r){Object(c.a)(this,e),this.text=i,this.freq=n,this.maxFreq=s,this.fontSize=t.map(n/s,0,1,h,a),t.textSize(this.fontSize);var l=30*Math.random()-15,d=30*Math.random()-15;this.rect=new m(t.width/2-t.textWidth(i)/2+l,t.height/2+d,t.textWidth(i),this.fontSize*o),this.yOffset=this.fontSize*(1-o),this.color=r}return Object(l.a)(e,[{key:"render",value:function(){t.textSize(this.fontSize),t.fill(this.color),t.text(this.text,this.rect.x,this.rect.y-this.yOffset)}},{key:"handleCollision",value:function(t){this.rect.handleCollision(t.rect)}},{key:"move",value:function(){this.rect.move()}},{key:"handleBoundary",value:function(t){this.rect.handleCollision(t)}}]),e}(),m=function(){function e(t,i,n,s){Object(c.a)(this,e),this.x=t,this.y=i,this.w=n,this.h=s,this.midX=t+n/2,this.midY=i+s/2,this.vx=0,this.vy=0}return Object(l.a)(e,[{key:"area",value:function(){return this.w*this.h}},{key:"render",value:function(){t.rect(this.x,this.y,this.w,this.h)}},{key:"handleCollision",value:function(e){if(this.collides(e)){var i=this.midX-e.midX,n=this.midY-e.midY;i<1&&i>=0?i=1:i>-1&&i<=0&&(i=-1),n<1&&n>=0?n=1:n>-1&&n<=0&&(n=-1);var s=4e4/i,o=4e4/n,a=t.pow(this.area(),.3),h=t.pow(e.area(),.3);this.vx+=y(s/a,1),this.vy+=y(o/a,1),e.vx-=y(s/h,1),e.vy-=y(o/h,1)}}},{key:"addInwardsForce",value:function(){var e=t.width/2,i=t.height/2,n=e-this.midX,s=i-this.midY;this.vx+=1e-4*n,this.vy+=1e-4*s}},{key:"move",value:function(){this.x+=this.vx,this.y+=this.vy,this.midX=this.x+this.w/2,this.midY=this.y+this.h/2,this.vx=.4*this.vx,this.vy=.4*this.vx}},{key:"collides",value:function(t){return this.x<t.x+t.w&&this.x+this.w>t.x&&this.y<t.y+t.h&&this.y+this.h>t.y}},{key:"contains",value:function(t,e){return t>this.x&&t<this.x+this.w&&e>this.y&&e<this.y+this.h}}]),e}(),x=function(){function e(t){Object(c.a)(this,e),this.wordBoxes=t,this.attachedBox=null,this.xOffset=0,this.yOffset=0,this.clickX=0,this.clickY=0,this.isPressed=!1,this.clickThreshold=2}return Object(l.a)(e,[{key:"mousePressed",value:function(){for(var e=0;e<this.wordBoxes.length;e++)this.wordBoxes[e].rect.contains(t.mouseX,t.mouseY)&&(this.attachedBox=this.wordBoxes[e],this.xOffset=t.mouseX-this.wordBoxes[e].rect.x,this.yOffset=t.mouseY-this.wordBoxes[e].rect.y);this.isPressed=!0,this.clickX=t.mouseX,this.clickY=t.mouseY}},{key:"mouseReleased",value:function(){this.attachedBox=null,this.isPressed=!1,this.clickX-t.mouseX<this.clickThreshold&&this.clickX-t.mouseX>-this.clickThreshold&&this.clickY-t.mouseY<this.clickThreshold&&this.clickY-t.mouseY>-this.clickThreshold&&this.mouseClicked()}},{key:"mouseClicked",value:function(){console.log("click"),this.updateSentimentChart()}},{key:"handleAttachedBox",value:function(){null!=this.attachedBox&&(this.attachedBox.rect.x=t.mouseX-this.xOffset,this.attachedBox.rect.y=t.mouseY-this.yOffset)}},{key:"updateSentimentChart",value:function(){var t;t=null==this.attachedBox?"":this.attachedBox.text,document.getElementById("canvasForm").value=t}}]),e}();function y(t,e){return(t<0?-t:t)>e?(t<0?-1:1)*e:t}t.setup=function(){t.createCanvas(720,400),t.textSize(a),t.textAlign(t.LEFT,t.TOP),t.textLeading(0),s=[t.color(0,51,204),t.color(51,204,51),t.color(255,153,51),t.color(153,51,255),t.color(51,204,204)],e=new u(n),i=new x(e.wordBoxes)},t.draw=function(){t.background(255),e.handleBoundary(),e.handleCollisions(),i.handleAttachedBox(),e.render()},t.windowResized=function(){var e=document.getElementById("canvasContainer").offsetWidth,i=document.getElementById("canvasContainer").offsetHeight;t.resizeCanvas(e,i)},t.mousePressed=function(){i.mousePressed()},t.mouseReleased=function(){i.mouseReleased()}}},g=(i(121),i(123),i(125)),p=function(t){function e(){return Object(c.a)(this,e),Object(d.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.sketch,i=Object(r.a)(t,["sketch"]);this.canvas=new y.a(e(i),this.wrapper)}},{key:"componentWillReceiveProps",value:function(t){t.sketch;var e=Object(r.a)(t,["sketch"]);this.props.sketch!==t.sketch&&(this.canvas.remove(),this.canvas=new y.a(t.sketch(e),this.wrapper)),"function"===typeof this.canvas.onNewProps&&this.canvas.onNewProps(t)}},{key:"componentWillUnmount",value:function(){this.canvas.remove()}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{ref:function(e){return t.wrapper=e}})}}]),e}(s.a.Component),b=function(t){function e(t){var i;return Object(c.a)(this,e),(i=Object(d.a)(this,Object(u.a)(e).call(this,t))).onChangeSubreddit=function(t){i.setState({subreddit:t.target.value})},i.onChangeStartDate=function(t){i.setState({startDate:t}),console.log((i.state.startDate.getTime()/1e3).toFixed(0))},i.onChangeEndDate=function(t){i.setState({endDate:t}),console.log((i.state.startDate.getTime()/1e3).toFixed(0))},i.onSubmit=function(t){t.preventDefault();var e=JSON.stringify({subreddit:i.state.subreddit,start:parseInt((i.state.startDate.getTime()/1e3).toFixed(0)),end:parseInt((i.state.endDate.getTime()/1e3).toFixed(0))});g.post("http://18.223.169.36:80",e,{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"},timeout:6e4}).then(function(t){return console.log(t)})},i.state={subreddit:"",startDate:new Date,endDate:new Date,words:{}},i.onChangeSubreddit=i.onChangeSubreddit.bind(Object(h.a)(Object(h.a)(i))),i.onChangeStartDate=i.onChangeStartDate.bind(Object(h.a)(Object(h.a)(i))),i.onChangeEndDate=i.onChangeEndDate.bind(Object(h.a)(Object(h.a)(i))),i}return Object(f.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{value:this.state.subreddit,onChange:this.onChangeSubreddit}),s.a.createElement(m.a,{selected:this.state.startDate,onChange:this.onChangeStartDate,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"MM/d/yyyy h:mm aa"}),s.a.createElement(m.a,{selected:this.state.endDate,onChange:this.onChangeEndDate,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:5,dateFormat:"MM/d/yyyy h:mm aa"}),s.a.createElement("button",null,"Submit")),s.a.createElement(p,{sketch:w}))}}]),e}(n.Component);a.a.render(s.a.createElement(b,null),document.getElementById("root"))},71:function(t,e,i){t.exports=i(145)},76:function(t,e,i){}},[[71,2,1]]]);
//# sourceMappingURL=main.6ba0ee93.chunk.js.map